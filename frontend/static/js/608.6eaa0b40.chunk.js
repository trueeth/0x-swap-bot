(self.webpackChunkadmin_dashboard_swap_bot=self.webpackChunkadmin_dashboard_swap_bot||[]).push([[608],{8047:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(9490),s=n(8903),a=n(2110),i=n(5043),o=n(9525),l=n(6946),c=n(5865),d=n(3404),h=n(9958),x=n(3193),u=n(9190),j=n(7224),A=n(7970),p=n(9336),m=n(9650),g=n(1806),y=n(4882),v=n(8076),f=n(2420),b=n(3217),w=n(3460),C=n(2280),T=n(2908),S=n.n(T),k=n(8218),W=n(7154),B=n(425),P=n(579);const I=()=>{const[e,t]=(0,i.useState)([]),n=e.length>0,[r,s]=(0,i.useState)([]),[T,I]=(0,i.useState)([]),[_,E]=(0,i.useState)([]),[F,L]=(0,i.useState)(0),[M,O]=(0,i.useState)(0),[R,U]=(0,i.useState)(5),[D,H]=(0,i.useState)("all"),[N,Y]=(0,i.useState)(!1),q=t=>{const n=r.filter((t=>e.includes(t.id)));const s=(a="all"===t?_:n,Object.keys(a[0]).join(",")+"\n"+a.map((e=>Object.values(e).join(","))).join("\n"));var a;const i=new Blob([s],{type:"text/csv"}),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.setAttribute("download","exported_data.csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(0,i.useEffect)((()=>{(async()=>{const e=S().stringify({sortBy:"createdAt",limit:1e7,page:0});try{var t,n;const r=await W.A.get("".concat(B.gs?"http://localhost:3000":B.F6,"/v1/transaction?").concat(e)),s=null===(t=r.data)||void 0===t?void 0:t.transactions,a=null===(n=r.data)||void 0===n?void 0:n.counts;return(null===s||void 0===s?void 0:s.length)>0&&E(s),O(a),s}catch(r){return console.error(r),null}})(),(async(e,t,n)=>{let r=null;r="all"==n?{sortBy:"createdAt",limit:t,page:e}:{txType:n,sortBy:"createdAt",limit:t,page:e};const a=S().stringify(r);try{var i,o;const e=await W.A.get("".concat(B.gs?"http://localhost:3000":B.F6,"/v1/transaction?").concat(a)),t=null===(i=e.data)||void 0===i?void 0:i.transactions,n=null===(o=e.data)||void 0===o?void 0:o.counts;return(null===t||void 0===t?void 0:t.length)>0&&s(t),O(n),t}catch(l){console.error(l)}})(F,R,D)}),[F,R,D]),(0,P.jsxs)(a.A,{children:[n&&(0,P.jsx)(l.A,{flex:1,p:2,children:(0,P.jsxs)(l.A,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,P.jsx)(l.A,{display:"flex",alignItems:"center",children:(0,P.jsx)(c.A,{variant:"h5",color:"text.primary",children:"Select Items"})}),(0,P.jsxs)(d.A,{sx:{color:"#1976d2"},onClick:()=>q(""),children:[(0,P.jsx)(k.A,{sx:{mr:1}}),"Export"]})]})}),!n&&(0,P.jsx)(h.A,{action:(0,P.jsxs)(l.A,{width:300,sx:{display:"flex",justifyContent:"space-around"},children:[(0,P.jsxs)(x.A,{fullWidth:!0,variant:"outlined",sx:{mr:1,width:"50%"},children:[(0,P.jsx)(u.A,{children:"Type"}),(0,P.jsx)(j.A,{value:D,onChange:e=>{H(e.target.value)},label:"Type",autoWidth:!0,children:[{id:"all",name:"All"},{id:"BUY",name:"Buy Weth"},{id:"SELL",name:"Sell Weth"}].map((e=>(0,P.jsx)(A.A,{value:e.id,children:e.name},e.id)))})]}),(0,P.jsxs)(d.A,{sx:{color:"#1976d2",m:1,alignItems:"center"},onClick:()=>q("all"),children:[(0,P.jsx)(k.A,{sx:{mr:1}}),(0,P.jsx)(c.A,{whiteSpace:"nowrap",children:"All Export"})]})]}),title:"Recent Transactions"}),(0,P.jsx)(p.A,{}),(0,P.jsx)(m.A,{children:(0,P.jsxs)(g.A,{children:[(0,P.jsx)(y.A,{children:(0,P.jsxs)(v.A,{children:[(0,P.jsx)(f.A,{padding:"checkbox",children:(0,P.jsx)(b.A,{color:"primary",checked:N,indeterminate:e.length>0,onChange:n=>{0==e.length?t(r.map((e=>e.id))):t([])}})}),(0,P.jsx)(f.A,{sx:{textTransform:"none"},children:"Tx Hash"}),(0,P.jsx)(f.A,{sx:{textTransform:"none"},children:"Type"}),(0,P.jsx)(f.A,{sx:{textTransform:"none"},children:"Amount"}),(0,P.jsx)(f.A,{align:"right",sx:{textTransform:"none"},children:"Price"}),(0,P.jsx)(f.A,{align:"right",sx:{textTransform:"none"},children:"Tx Date"})]})}),(0,P.jsx)(w.A,{children:r.map((n=>{const r=e.includes(n.id);return(0,P.jsxs)(v.A,{hover:!0,selected:r,children:[(0,P.jsx)(f.A,{padding:"checkbox",children:(0,P.jsx)(b.A,{color:"primary",checked:r,onChange:r=>{return s=n.id,void(e.includes(s)?t((e=>e.filter((e=>e!==s)))):t((e=>[...e,s])));var s},value:r})}),(0,P.jsx)(f.A,{children:(0,P.jsx)(c.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:n.txHash})}),(0,P.jsx)(f.A,{children:(0,P.jsx)(c.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:n.txType})}),(0,P.jsx)(f.A,{children:(0,P.jsx)(c.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:n.amount})}),(0,P.jsx)(f.A,{align:"right",children:(0,P.jsx)(c.A,{variant:"body2",color:"text.secondary",noWrap:!0,children:Number(n.price).toFixed(3)})}),(0,P.jsx)(f.A,{align:"right",children:(0,o.A)(new Date(n.createdAt),"MMMM dd yyyy hh:mm:ss a")})]},n.id)}))})]})}),(0,P.jsx)(l.A,{p:2,children:(0,P.jsx)(C.A,{component:"div",count:M,onPageChange:(e,t)=>{L(t)},onRowsPerPageChange:e=>{U(parseInt(e.target.value))},page:F,rowsPerPage:R,rowsPerPageOptions:[5,10,25,30]})})]})};const _=function(){return(0,P.jsx)(a.A,{sx:{width:"90%"},children:(0,P.jsx)(I,{})})};const E=function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.mg,{children:(0,P.jsx)("title",{children:"Transactions - Applications"})}),(0,P.jsx)(s.Ay,{mt:5,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,P.jsx)(s.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,P.jsx)(_,{})})})]})}},2634:()=>{}}]);
//# sourceMappingURL=608.6eaa0b40.chunk.js.map